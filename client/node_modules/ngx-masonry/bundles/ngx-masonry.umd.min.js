!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-masonry",["exports","@angular/core","@angular/common"],e):e((t=t||self)["ngx-masonry"]={},t.ng.core,t.ng.common)}(this,function(t,e,n){"use strict";function o(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function r(t,e){return function(n,o){e(n,o,t)}}function i(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}var s,a,m=function(){function t(t,n){this.platformId=t,this._element=n,this.useImagesLoaded=!1,this.updateLayout=!1,this.layoutComplete=new e.EventEmitter,this.removeComplete=new e.EventEmitter}return t.prototype.ngOnInit=function(){var t=this;this.useImagesLoaded&&s===undefined&&(s=require("imagesloaded")),n.isPlatformBrowser(this.platformId)&&a===undefined&&(a=require("masonry-layout")),this.options||(this.options={}),this.options.itemSelector||(this.options.itemSelector="[ngxMasonryItem], ngxMasonryItem"),n.isPlatformBrowser(this.platformId)&&(this._msnry=new a(this._element.nativeElement,this.options),this._msnry.on("layoutComplete",function(e){t.layoutComplete.emit(e)}),this._msnry.on("removeComplete",function(e){t.removeComplete.emit(e)}))},t.prototype.ngOnChanges=function(t){t.updateLayout&&(t.updateLayout.firstChange||this.layout())},t.prototype.ngOnDestroy=function(){this._msnry&&this._msnry.destroy()},t.prototype.layout=function(){var t=this;setTimeout(function(){t._msnry.layout()})},t.prototype.reloadItems=function(){var t=this;setTimeout(function(){t._msnry.reloadItems()})},t.prototype.add=function(t){var e=this,n=!1;0===this._msnry.items.length&&(n=!0),this.useImagesLoaded?(s(t,function(o){e._element.nativeElement.appendChild(t),e._msnry.appended(t),n&&e.layout()}),this._element.nativeElement.removeChild(t)):(this._msnry.appended(t),n&&this.layout())},t.prototype.remove=function(t){this._msnry.remove(t),this.layout()},o([e.Input(),i("design:type",Object)],t.prototype,"options",void 0),o([e.Input(),i("design:type",Boolean)],t.prototype,"useImagesLoaded",void 0),o([e.Input(),i("design:type",Boolean)],t.prototype,"updateLayout",void 0),o([e.Output(),i("design:type",e.EventEmitter)],t.prototype,"layoutComplete",void 0),o([e.Output(),i("design:type",e.EventEmitter)],t.prototype,"removeComplete",void 0),t=o([e.Component({selector:"[ngx-masonry], ngx-masonry",template:"<ng-content></ng-content>",styles:["\n\t\t:host {\n\t\t\tdisplay: block;\n\t\t}\n\t"]}),r(0,e.Inject(e.PLATFORM_ID)),i("design:paramtypes",[Object,e.ElementRef])],t)}(),p=function(){function t(t,e,n){this._element=t,this._parent=e,this.platformId=n}return t.prototype.ngAfterViewInit=function(){n.isPlatformBrowser(this.platformId)&&(this._parent.add(this._element.nativeElement),this.watchForHtmlChanges())},t.prototype.ngOnDestroy=function(){n.isPlatformBrowser(this.platformId)&&this._parent.remove(this._element.nativeElement)},t.prototype.watchForHtmlChanges=function(){if(MutationObserver=window.MutationObserver||window.WebKitMutationObserver,MutationObserver){var t=this;new MutationObserver(function(e,n){t._parent.layout()}).observe(this._element.nativeElement,{subtree:!0,childList:!0})}},t=o([e.Directive({selector:"[ngxMasonryItem], ngxMasonryItem"}),r(1,e.Inject(e.forwardRef(function(){return m}))),r(2,e.Inject(e.PLATFORM_ID)),i("design:paramtypes",[e.ElementRef,m,Object])],t)}(),u=function(){function t(){}return t=o([e.NgModule({imports:[],declarations:[m,p],exports:[m,p]})],t)}();t.NgxMasonryComponent=m,t.NgxMasonryDirective=p,t.NgxMasonryModule=u,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-masonry.umd.min.js.map